#!/usr/bin/ruby

ENV['LOADER_LIBRARY_PATH'] = '@LOADER_LIBRARY_PATH@'
ENV['LOADER_SCRIPT_PATH'] = '@LOADER_SCRIPT_PATH@'

require 'test/unit'
metacall = require_relative 'rb_port'

class RbPortTest < Test::Unit::TestCase

	# MetaCall (Python)
	def test_python
		assert_equal(metacall.metacall('hello'), None)

		assert_equal(metacall.metacall('multiply', 5, 7), 35)
	end

	# MetaCall (Ruby)
	def test_python
		assert_equal(metacall.metacall('say_null'), None)

		assert_equal(metacall.metacall('say_multiply', 3, 4), 12)

		assert_equal(metacall.metacall('say_hello', 'world'), 'Hello world!')
	end

end
